<mvc:View
    controllerName="com.client.itrequestmanager.itrequestmanager.controller.MyRequests"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:layout="sap.ui.layout"
    xmlns:core="sap.ui.core"
    height="100%"
    displayBlock="true">

    <Page 
        title="{i18n>myRequestsPageTitle}" 
        showNavButton="true" 
        navButtonPress=".onNavBack">
        
        <content>
            <layout:VerticalLayout class="sapUiContentPadding" width="100%">
                
                <SearchField
                    width="100%"
                    placeholder="{i18n>searchPlaceholder}"
                    liveChange=".onSearch"
                    class="sapUiSmallMarginBottom"/>

                <Table
                    id="requestsTable"
                    items="{requestsModel>/requests}"
                    class="sapUiSmallMarginTop"
                    growing="true"
                    growingScrollToLoad="true"
                    width="auto">
                    
                    <columns>
                        <Column width="12em"><Text text="{i18n>colId}"/></Column>
                        <Column width="10em"><Text text="{i18n>colCategory}"/></Column>
                        <Column width="8em"><Text text="{i18n>colPriority}"/></Column>
                        <Column width="8em"><Text text="{i18n>colStatus}"/></Column>
                        <Column width="10em"><Text text="{i18n>colCreatedOn}"/></Column>
                    </columns>
                    
                    <items>
                        <ColumnListItem>
                            <cells>
                                <Text text="{requestsModel>id}"/>
                                <Text text="{requestsModel>category}"/>
                                <Text text="{requestsModel>priority}"/>
                                <ObjectStatus 
                                    text="{requestsModel>status}"
                                    state="{
                                        path: 'requestsModel>status',
                                        formatter: '.formatStatusState'
                                    }"/>
                                <Text text="{requestsModel>createdOn}"/>
                            </cells>
                        </ColumnListItem>
                    </items>
                </Table>
                
            </layout:VerticalLayout>
        </content>
    </Page>
</mvc:View>